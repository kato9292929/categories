---
title: ビットコインを交換手段に進化させるライトニングネットワーク③
    category:
        - lightning
        - money
    post_tag:
        - economics
---

<!--- 以下、<style> から サブタイトル直前の </script> までは変更しないでください --->
<style>
img[alt*="Category"], 
img[alt*="Tag"], 
img[alt*="Time"] {
    width:30px;
    height:30px;
    object-fit: cover;
}
p {
    color: #3d362d;
}
p img {
    text-align:center;
}
a {
    color: #ff9f1c;
}
a:hover {
    color: #2ec4b6;
}
</style>

<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script language="JavaScript">
$(document).ready( function () {
   $("a[href^='http']:not([href*='" + location.hostname + "'])").attr('target', '_blank');
})
</script>

### 貨幣を目指す財が採るべき正しい戦略を、歴史とアルトコインの失敗から導き出す

|  ![Category](/_images/category.png)  |  ライトニング、ビットコインは最強のお金 |  ![Tag](/_images/tag.png)  |  初級、経済学  | ![Time](/_images/timer.png)  |  17分  |
| ---- | ---- | ---- | ---- | ---- | ---- |

*本記事は2022年8月6日に[Lyn Alden](https://twitter.com/LynAldenContact) 氏が発表した「A Look At the Lightning Network」を[@slashweb3_mk](https://twitter.com/slashweb3_mk) さんが翻訳、[@TerukoNeriki](https://twitter.com/TerukoNeriki) が一部加筆修正したものです。*

この記事では、ビットコインを交換手段に進化させるライトニングネットワーク②に引き続き、通貨資産が価値の保存手段であることと交換媒体であることの関係を考察します。

####トレードオフとフリーランチの禁止

ブロックチェーンは、基本的に非効率なデータベースであるといった議論が交わされます。

このような批判に対して、ユーザーは、非中央集権化を確実にするために、すべての変更をネットワークにブロードキャストし、ネットワーク内の他の場所からのブロードキャストを追跡する必要があるといった非効率性を進んで受け入れています。

特に、世界中に分散化されているブロックチェーンは、世界中の何千ものエンティティが、ローカルデバイスに保存し、確立された一連のルールを使用してピアツーピアで常にアップデートできるほど、小さくてタイトなデータベースです。

各ノードは、新しいブロックがプロトコルのルールに従っていることを確認するための検証を提供し、新しいブロックがルールに従っている場合にのみ新しいブロックを受け入れて他のノードに伝播します。

非常に多数のユーザーが実行するノードは、ルールセットが不変であることを保証するのに役立ちますが、少数のノードしかない場合は、ネットワークのルールを書き換えるのに少数の人しか必要としません。

さらに、ノードの運用が簡単になればなるほど、通常のユーザーにとってもネットワークの監査がしやすくなります。

より具体的には、ノードは、信頼できる第三者に頼るのではなく、各ユーザーに自分自身のトランザクションを非公開に検証するための通貨主権を与えるだけです。

完全に中央集権化されたデータベースは、規模やサイズを気にする必要がないため、制限が少なくなります。

大規模なサービスプロバイダーは、サーバーファームの中に、非常に大規模なデータベースを持つことができます。

これにより非常に効率的にデータは管理されますが、ブロックチェーンとは異なり、外部の組織やユーザーは、コンテンツや変更について直接監査することはできず、その中央集権化されたデータベースの所有者が、好き勝手することを止める方法はありません。

したがって、ベースレイヤーのビットコインネットワークと比較して改善策を主張し、優位性を誇示しようとするすべてのブロックチェーンネットワークは、その構想の実現に向けて、複数のトレードオフを行います。

*ベースレイヤーで一定期間に発生するトランザクション数を増加させるには、ブロックサイズまたはブロック生成速度を増やす必要があります。

ただし、これによってノードを実行するための帯域幅とストレージの要件が増加し、多くの場合、一般人は、手の届かなくなってしまいます。

特にノードを実行するための要件が、帯域幅とストレージの面での技術的成長率よりも速くなる場合、時間の経過とともにノードセットが縮小してしまい、ネットワークが中央集権化されます。

Visaと同じ数のトランザクションを実行するようにネットワークを拡張しようとすると、基本的にはネットワークをVisaと同じ中央集権型に変えるだけです。

*プライバシーを強化するには、ある程度の監査可能性を犠牲にする必要があります。

ビットコインネットワークの重要な点の1つは、どのノードにおいてもビットコインの正確な供給量を知ることができ、トランザクションの全履歴と台帳のすべての状態を把握することができることです。

プライバシー保護を重要視したシステムにおいては、同様の設計は不可能です。

さらに、プライバシー保護を重要視したシステムが、強力なネットワーク効果を持たない場合、ある程度追跡可能であるため、匿名性のレベルは非常に小さいものであり、プライバシーは宣伝されているほど完璧であるとは限りません。

プライバシーは、流動性の有無が非常に重要な意味を持っており、プライバシーに焦点を当てたさまざまなエコシステムで流動性が不足している場合においては、プライバシーに関する匿名性の範囲は制限されてしまいます。

*コードの表現力を高めるために (例えば、複雑なスマートコントラクトをベースレイヤーで直接実行するために)ネットワークはフルノードの帯域幅とストレージの要件も高める必要があります。

そのことで、フルノードの運用が難しくなり、前述のように時間の経過とともにネットワークが中央集権化します。

さらに、攻撃対象領域の複雑さと数が増加します。

最後に、ネットワークは、それ自体が目的ではなく、目的を達成するための手段になります。

多くのユーザーは、手数料が安いスマートコントラクトのブロックチェーンがあれば、そちらに移行することになります。

*プルーフ・オブ・ワークをプルーフ・オブ・ステークに置き換えるには、循環型検証プロセスを受け入れる必要があります。

プルーフ・オブ・ステークシステムは、トークン所有者は台帳の状態によって決定され、台帳の状態はトークン所有者によって決定されるといった循環型で永続的なエコシステムであるため耐障害性が高くないといった特徴があります。

異なるトランザクション履歴を持つブロックチェーンのコピーを無限に作成するのは、ほとんどコストがかからず、ネットワークがオフラインになった場合、ガバナンスの決定と中央集権的なチェックポイント以外に、どの台帳が「本物」であるかを判断する方法はありません. 

これは、企業が自社の証券代行および株式の登録機関として機能するようなものであり、本質的な循環型エコシステムであると言えます。

プルーフ・オブ・ワーク・システムは、エネルギーを外部の真実の調停者として使用するため非循環型であり、単なるブロックチェーンではなく、真のタイムチェーンとなります。

*ビットコインの成功は、その広く分散されたノードネットワークと、関連する「通貨主権」の概念によるところが大きいです。

古いラップトップやRaspberry Piと基本的なインターネット接続があれば、誰でもノードを実行でき、システム全体をビットコインが誕生したジェネシス・ブロックから検証できます。

数十年後も、それは変わらないでしょう。

ノードを実行するための要件は、帯域幅とストレージの技術的な増加よりもゆっくりと増加するため、ノードは、時間の経過とともに実行しやすくなり、アクセスしやすくなります。

その結果、ビットコインは本質的に時間の経過とともに分散化されるように設計されており、その他の暗号資産が、本質的に時間の経過とともに中央集権化されるのとは、対照的です。

開発者がビットコインネットワークについて何かを変更したい場合、その変更をユーザーのノードに強制することはできません。

ビットコインのルールセットは、既存のノードのネットワークによって決定されます。

実際のビットコインネットワークへの変更は、ノードユーザーが必要に応じて自発的にアップグレードできるように、古いノードとの互換性を保ちながら、後方互換性のあるアップグレードでなければなりません。

既存のノードネットワークとの後方互換性がないアップグレードは、ハードフォークにすぎません。

つまり、ネットワーク効果がなく、セキュリティが脆弱であるビットコインキャッシュのような別の新しいトークンを生み出してしまうのです。

ビットコインネットワークからハードフォークをしようとすることは、ウィキペディアからすべてのデータをコピーし (実際にはそれほど多くはありません)、自分のWebサイトでホストしているようなものであり、本物のウィキペディアの何百万ものバックリンクや常に更新を続けているボランティアがないことからトラフィックがほとんど得られないようなものです。

このように、ウィキペディアの分割版は、コピーした瞬間から本質的に実際のウィキペディアよりも悪くなります。

ノードの実行要件が多岐にわたる場合、大規模なエンティティのみがノードを実行でき、ノードのセットはとても小さくなります。

そのため、マイナー、取引所、カストディアン、その他の大規模なエンティティのコンソーシアムが、ネットワークに変更を加えることに同意する可能性があり、その場合、ネットワークの不変性と分散化が失われてしまいます。

特に発行上限である2,100万が変更される可能性があり、検閲耐性が脅かされる可能性も存在します。

ビットコインにお金としての「堅牢さ」を与えているのは、個々のユーザーの膨大なノードネットワークによって強制されるルールセットの不変性です。

全会一致のコンセンサスがある場合を除き、基本的に後方互換性のない変更を行う方法はありません。 (たとえば、最終的な2038年問題のようなもの)
SegwitやTaprootなどの一部のソフトフォークアップグレードは、段階的な改善が行われ、下位互換性があるため、ノードユーザーはこれらの新機能を使用したい場合、時間をかけて自主的にアップグレードできます。

この自己主権と不変性といったビットコインのソフトウェアとしての特性は、他の暗号通貨の設計者に受け継がれることはなかったようです。

彼の行動と著作から推測するに、サトシ・ナカモト自身でさえ、彼自身が作り上げたビットコインネットワークの完璧に近い不変性をすべて把握しきれていなかったのかもしれません。

時間の経過とともに現れ、実現されたのかもしれないこのネットワークの特性は、彼がプロジェクトから離れた後に顕著になったのです。

確かに、私自身も理解するまでに何度も経験し、研究しなければならなかったことです。

1990年代にプルーフ・オブ・ワークに関する開発を行い、ビットコインのホワイトペーパーにおいて、サトシ・ナカモトが引用したアダム・バックは、次のように述べています。

ビットコインには特別な何かがあります。

そこで、2013年に約4か月の余暇を使って、ビットコインを大幅に改善する方法を見つけようとしました。

スケーラビリティ、分散化、プライバシー、代替可能性、小型デバイスでのマイニングを簡単に行う方法など、改善すべきと考えた多くの指標を見つけました。

そこで、さまざまなパラメータや設計、ネットワーク、暗号化の変更などを調べ、さまざまなアイデアが思い浮かび、そのうちのいくつかは他の開発者からも後に提案がありました。

しかし、基本的に私が驚いたことは、ほとんどの場合において何かを改善すれば他の何かが悪化してしまうと言うことであり、1つの改善によって、より複雑で、多くの帯域幅を使用するようになるなど、システムの他の側面を客観的に悪化させました。

そのため、私はいつしかビットコインは、設計された限られた空間の範囲でのみ存在するのだ、と考えるようになりました。

ご存知のように、すべての設計を可能にした空間は、巨大な探索空間であり、直感に反して、大幅に改善することはできないように思えます。

覚えておいてほしいのは、私は分散システムの博士号を取得しており、キャリアのほとんどをスタートアップや大企業向けの大規模なインターネットシステム、セキュリティプロトコルなどに費やしてきたことです。

なので、このような特性を少しずつ改善するには、誰しも平等にチャンスがあると感じています。

私は、改善に試しに取り組んでみて、基本的には下記のような結論を下しました。

 「うわー、文字通り、基本的に何もありません。文字通り、何をやっても悪化します。」

ビットコインは、私が期待していたものではありませんでした。

— アダム・バック ブロックストリーム CEO

では、もし、すべての改善が容認できないトレードオフを伴う場合、どのようにしてスケーリングすることができるのでしょうか?

1ヶ月に数千万件の支払いしかできない状況で、どのようにしてビットコインは10億人のユーザー数に対応できるまで、スケールアップできるのでしょうか?

答えはレイヤーです。

成功しているすべての金融システムはレイヤーアプローチを使用しており、各レイヤーは特定の目的に最適化されます。

1 つのレイヤーをあらゆる目的に使用しようとすると、多くの犠牲を払うことになり、長期的にはほとんど何の役にも立たなくなります。

しかし、システムの各レイヤーが特定の目的 (スループット、セキュリティ、速度、プライバシーなど) に対応するために、特定の変数に従って最適化されている場合においては、完全なネットワークスタックが、容認できないトレードオフを行うことなく、複数のユースケースに対して同時に最適化できます。

たとえば、米国では、銀行間のグロス決済システムとしてFedwireが存在し、現在、1カ月当たり2,000万件未満のトランザクション (年間約2億件) を処理していますが、平均取引サイズが巨大であり、各決済は、膨大な量の小額決済取引のバッチを表しているため、1カ月当たり80兆ドル (年間約 1,000 兆ドル) 以上の金額が決済されます。

![<!--- 図 フェドワイヤー・ファンド・サービスの年間統計 --->](/_images/a_look_at_the_lightning_network3_1.webp <!--- img src=”a_look_at_the_lightning_network3_1.png” --->)
<figcaption>フェドワイヤー サービス</figcaption>

私たち消費者はそのシステムを直接使用しません。

代わりに、私たちはクレジットカード、デビットカード、PayPal、電子小切手などの決済方法を使用し、銀行はそれらの取引を元帳に記録し、後で相互に決済します.

Fedwireの各取引は、上位レイヤーからの膨大な少額取引のバッチを表しています。

言い換えれば、基礎となるコア決済システムがあり、その上にスループットを高めるためのレイヤーがあることで、月に数十億の取引を決済することができます。

ビットコインのエコシステムは、オープンでピアツーピアであることを除いて、同様の方法で進化してきました。

ビットコインのベースレイヤーには、1日あたり最大40万件の取引を処理する能力がありますが、各取引は複数のアウトプットを持つことができるため、結果的には、1日あたり最大100万以上の各決済が発生します。

これは、1か月あたり数千万回、または 1 年あたり数億回の支払いであり、Fedwireが現在処理しているのとほぼ同じ規模です。

![<!--- 図 ビットコイン取引量（2010-2022年） --->](/_images/a_look_at_the_lightning_network3_2.webp <!--- img src=”a_look_at_the_lightning_network3_2.png” --->)
<figcaption>コインメトリクス</figcaption>

そこからレイヤーをその上に構築して、スループットや機能を向上させることができます。

例えば、ビットコインにおけるサイドチェーン・ソリューションであるLiquidネットワークは、ビットコインを「Two-way Peg」の技術を用いて、L-BTC（Liquid-Bitcoin）と呼ばれるトークンにラップする数十のエンティティからなるコンソーシアム型のブロックチェーンです。

L-BTCは取引速度が速く、プライバシーが多少優れており、その上で実行されるセキュリティトークンなども含んだ、さまざまな種類のスマートコントラクトをサポートすることができます。

そのため、多数のL-BTCトランザクションを2つのBTCトランザクション (1つはPeg-in (発行) 、もう1つはPeg-out (償還) ) に収めることができます。

トレードオフは、ユーザーがLiquidネットワークの管理・運営主体であるコンソーシアムを信頼する必要があることです。

これは、単一のエンティティを信頼するよりも分散化されていますが、ビットコインのベースレイヤーを信頼するよりも分散化されていません。

ユーザーの信頼を裏切るためには、Liquidのコンソーシアムに参加するエンティティの大部分が、システムに対して結託する必要があります。

もう1つの例として、ビットコインベースレイヤー上で実行される2対2のマルチシグネチャースマートコントラクト「ライトニングネットワーク」があり、この記事の残りの部分で焦点を当てています。

これらのチャネルは、ピアツーピアまたはピアハブピアであり、ベースレイヤーの各トランザクションに対して、迅速に多くのトランザクションをサポートできます。

ライトニングネットワークにおけるトレードオフは、資金を保護し、決済を受け取るためにチャネルをオンラインにしておく必要があることや、ネットワークが、チャネルの流動性が使用可能なレベルに達するまでに数年かかったことです。

そして、ユーザーがトレードオフを理解した上で、カストディアンは、ライトニングネットワークを運用することができ、取引所、決済アプリ、銀行、チャミアンミントなど、資金の一部を預けてくれるユーザーに対して、サービスを提供できます。

これによって、ライトニングネットワークに接続することを含め、ビットコインの使用を任意のレベルにスケーリングすることができます。

ライトニングネットワークの各ノードは、必ずしも 1 人である必要はなく、数千または数百万人のユーザーを持つカストディアンである可能性があります。

その意味で、各ユーザーは、特定のニーズに最も適したレイヤーでネットワークを使用することになります。

####ライトニングネットワークのしくみ

ライトニングネットワークは、ビットコインのベースレイヤー上で実行される一連のスマートコントラクトチャネルで構成されます。

考えてみれば、個々の消費者の決済は、すべての人にブロードキャストされるよりもチャネルを使用する方が、より効率的かつ実用的です。

対面での物理的な現金取引は、直接的なP2P取引であり、私たちは、各取引を全世界にブロードキャストしません。

ライトニングネットワークは、ビットコインのベースレイヤー上にその現金の概念を再現的に表象します。

その結果、ベースレイヤーの取引を直接使用する場合と比較して、いくつかのトレードオフと制限はありますが、より高速でスケーラブルで安価でありながらも、プライベートでグローバルな決済システムが実現します。

ビットコインネットワークにおけるチャネルベースの決済は、ネットワークが初期の頃から検討されてきた歴史があり、2015年に書かれたライトニングネットワークに関するホワイトペーパーに基づいて、最初の実装は2018年初旬までには発表されました。

初期の段階で、開発者は、安全にテストを行うためにチャネルサイズを意図的に制限し、ライトニングネットワークを慎重に成長させました。

（これは、特にDeFi市場でよく見られる、ユーザーの資金が搾取されるという一般的な問題を回避するためでした）

それ以来、ネットワークは機能し、成長しており、2020年後半までにネットワークは流動性、ユーザビリティ、市場で普及するレベルに達し、マクロ経済の観点から非常に興味深いものになりました。

####ブロードキャストネットワークの限界

毎日、世界中の何万ものノードに接続したブロードキャストネットワークを使って、通勤途中にコーヒーを買うというのは、現実的にはあり得ない話です。

ブロックチェーンは、不変的で分散型の公開台帳であり、コーヒーの購入に関する取引を、ブロードキャストし、分散データベースに永久的に保持する必要はあるのでしょうか?

コーヒーよりも個人的、政治的に敏感なものを購入したい場合、どうすればよいでしょうか?

代わりに、ピアツーピアの支払いチャネルを使用するべきではありませんか?

例えば、インターネット上で送信されたすべての電子メールを受信者だけでなく、全員のサーバーにコピーされ、そこに保存する必要がある場合、それは非常に非効率です。

しかし、さまざまな高スループットのブロックチェーンが、お金に関してそのように機能しようとしているのです。

その代わりにビットコインを保有する人々は、ブロードキャストネットワーク上でチャンネルを開設し、自分とマーチャントだけが知っている金額を決済することができます。(後述するいくつかのプライバシーに関する注意事項を条件として)

そして、チャンネルを閉じてしまえば、個別に決済が発生したという不変の公開記録は残りません。

ブロードキャスト指向のベースレイヤーのトランザクションスループットを、ブロックサイズやスピードを極端に大きくすることによって、スケーリングしようとするネットワークは、意味がありません。

この場合、ノードの要件が非常に高くなり、ネットワークはほんの一握りの大規模なノードを備えた、まるでVisaのような中央集権型のエンタープライズ対応のデータベースになってしまいます。

システムの基本的なルールは、少数の主要なノードを運営する企業の同意を得ていつでも変更できてしまい、トークンの供給量やトランザクション検閲など、将来的なシステムのすべてが変更可能になってしまうのです。

さらに、プライバシー保護は、非常に難しくなり、さまざまなエンティティがあなたの純資産と決済履歴を追跡することができるようになります。

これは、民主主義国家においてプライバシーの侵害として忌み嫌われるものですが、社会主義国家においてはさらに恐ろしいものなのです。

さらに、ブロックタイムが最速のブロックチェーンであっても、ブロードキャストネットワークを通過するには本質的に伝播時間を必要とするため、チャネルトランザクションは一般にブロードキャストトランザクションよりも高速です。

そのため、ベースレイヤーでトランザクションスループットを過度にスケーリングしようとするすべてのブロックチェーンには、本質的に欠陥があります。

ビットコインキャッシュ、ビットコインサトシビジョン、ライトコイン、ドージコイン、およびこのような他のコインはすべて、スケーラビリティまたはプライバシーの観点から技術的に意味をなさないことを行うためにあまりにも多くの犠牲を払い、中央集権化しすぎています。

長いブロックチェーンの歴史の中で、これらのトークンは何の価値も提供しないのです。

スケーリングが最適化され、分散化を犠牲にしない唯一の方法はレイヤーアプローチを採用することです。

ユーザーは、特定のニーズに応じた独自のソリューションとして、自分にとって役立つレイヤーを選択できます。

無許可で大量の価値を転送したり、可能な限り高いセキュリティと不変性を備えた自己管理型のコールドストレージにトークンを長期間保持したいですか? 

ビットコインネットワークのベースレイヤーを使用してください。

チャネルを開閉するために時折、オンチェーン取引が発生するものの、自己保管型ソリューションを使用して、即時性があり、安価でプライベートな無許可の決済を大量に行いたいですか? 

ライトニングネットワークを自己管理的に使用してください。

BlockstreamのGreenlightやモバイルアプリケーションなどのさまざまな技術により、技術的な詳細のほとんどをユーザーから切り離すことができ、ユーザーが独自の秘密鍵を保有することで、自己管理的なライトニングネットワークの使用が、ますます簡単になります。

また、実際に参加したい場合はそうすることができます。

無料で非常に簡単に許可された決済を行い、潜在的に他の臨時収益を得る可能性がありますが、カストディを放棄するといった犠牲を払いますか? 

それ自体が他の2つのレイヤーを使用するCash Appのようなカストディサービスを使用してください。

そして将来的には、ビットコインネットワークエコシステムにおいて、ブラインド署名を利用したフェデレーテッドチャウミアンミントのようにプライベートカストディアンソリューションが増えるかもしれません。

フェデレーテッドカストディオプションは、潜在的に利用ができる範囲が拡大する可能性があり、カストディのリスクを分散させることができます。

各レイヤーは下位レイヤーの品質を低下させることなく、下位レイヤーの上に構築されます。

ベースレイヤーのブロードキャストネットワーク、ミドルレイヤーのチャネルネットワーク、およびアッパーレイヤーのカストディアンエコシステムは、各タイプのユーザーが求めるものを何でも提供します。

市場が急速に成長した場合、将来的には他のスケーリング技術も登場する可能性があり、システムと自己管理的に取引できる人の数をさらに増やすことができます。

ビットコインは独自の方法で誕生し、意図的に変更が困難であるため中央集権型のデジタル資産ではなく、分散型のデジタル商品になっています。

開発者は、別の何かを作成しようとする代わりに、その上に構築することができるのです。

####ライトニング ネットワーク 101 の説明

あなたと友人がバーで、長い夜を過ごしているとします。

ビールやワインを飲むごとに決済方法を教えてもらうよりも、バーテンダーにつけ払いし、その夜の終わりに決済することをお勧めします。

バーテンダーがあなたのことを知らない場合は、前もってクレジットカード情報を提供することで、その日の内にチャージしてもらえます。

つまりこれは、あなたとバーテンダーがお互いにライトニングネットワークのペイメントチャネルを開くということです。

チャネルをセットアップする時と閉じる時に摩擦が発生する瞬間がありますが、各注文時に摩擦は発生しないためバーテンダーに「もう一杯お願いします」と伝えるだけでよいのです。

これが、ライトニングネットワークが概念的にどのように機能するかについての解説です。

私は、ベースレイヤーのビットコイントランザクションを使用して、他の誰かとチャネルを開くことができます。

このチャネルは2対2のマルチシグネチャであり、お互いが同意する必要があり、必要に応じてどちらかが、一方的にチャネルを閉じることができるように設計されています (ただし、協力して閉鎖することが望ましいです）。

チャネルが開いている間は、チャネルに十分な流動性がある限り、どちらかまたはお互いが、別のベースレイヤービットコイントランザクションでチャネルを閉じたいと思うまで、私たちは何度でも取引することができます。

ただし、つけ払いとは異なり、ライトニングチャネルは信頼や借金に基づいたものではありません。

チャネル内の支払いは即座に更新され、進行中のつけ払いは、どちらかがチャネルを閉じてベースレイヤーと照合することで、それぞれが現在の残高を受け取ることを強制することができます。

ライトニングネットワークにおいては、人から人への借金はなく、後払いの約束もありません。

これは、別の飲み物を注文するたびに、チャンネルを通じてバーテンダーのアカウントに即座に送金するようなものです。

ここからは、話をさらに一歩進めて考えてみましょう。

アリスはバーでバーテンダーにつけ払いしており、別の人物であるボブも同じバーテンダーにつけ払いしてます。

ボブがアリスに飲み物を奢りたければ、バーテンダーにアリスに飲み物を渡して自分の勘定に入れるように言うことができます。

あるいは、ボブが財布を忘れて家に帰るのにお金が必要な場合、アリスはバーテンダーにボブに30ドル渡して、自分の勘定に入れるように言うことができます。

アリスとボブはお互いのことを何も知らず、お互いに開いている支払いチャネルがないにもかかわらず、アリスはバーテンダーを通じてボブに支払いすることができます。

ライトニングネットワークもそれを行いますが、借金や信頼がないのが特徴です。

以下は図の一例です。

ユーザーAが、ユーザーQに支払いを送信したい場合、AからC、F、K、L、Qへの支払いをルーティングすることで、それを行うことができます。

途中の各ノードは、簡単に自動化できることから、1円よりも少額のルーティング手数料を請求する場合もあります。

アリスは、ユーザーQと直接チャネルを設定する必要はありません。

![<!--- 図 ユーザーAからユーザーQへのルーティング--->](/_images/a_look_at_the_lightning_network3_3.webp <!--- img src=”a_look_at_the_lightning_network3_3.png” --->)
<figcaption>キエリッシュ ウィキペディアより</figcaption>

オニオンルーティング技術を使用しているため、中間に位置するノードは、支払いがどこから発生したか、または最終的どこに向かうかを必ずしも認識していません。

ノードKは、「この支払いをFからLにルーティングして」と通知を受けるだけです。

このチャネルのネットワークの最終的な結果は、1つのベースレイヤーのトランザクションが、さまざまな個別のエンティティへの多数の支払いにアクセスできることであり、ビットコインネットワークは、より大きくスケーリングできるようになります。

膨大な数のノードが相互接続されたグローバルシステムを想像してみてください。

誰でも新しいノードでネットワークに参入し、チャネルの作成を開始できます。

また、多くのカストディサービスはアカウント所有者にノードとチャネルを介してネットワークへのアクセスを提供します。

この図は、現時点で公開されているライトニングネットワークを視覚化したものです。

支払いチャネルによって、相互接続されたノードのネットワークの拡大を表しており、大きなドットは特に接続されているノードになります。

![<!--- 図 ライトニングネットワークにおける相互接続されたノード --->](/_images/a_look_at_the_lightning_network3_4.webp <!--- img src=”a_look_at_the_lightning_network3_4.png” --->)
<figcaption>ライトニングルーター</figcaption>

左下のエリアを拡大すると、ネットワーク全体における典型的な接続の形状のランダムなサンプルを示しています。

![<!--- 図 ライトニングネットワークにおける相互接続されたノードの拡大 --->](/_images/a_look_at_the_lightning_network3_5.webp <!--- img src=”a_look_at_the_lightning_network3_5.png” --->)

ネットワークは非常に効率的であるため、取引手数料は多くの場合1円かそれ以下の金額にとどまります。

時間の経過とともにネットワークがどれだけ大きくなるか、ネットワークが処理できる1秒あたりのトランザクション数について、厳密な制限はありませんが、チャネルの開閉によってベースレイヤートランザクションが発生することは事実です。

ライトニングネットワークは、将来的に数百万のオープンチャネルを持つ規模に達すると、理論的にはほぼ無制限に1秒あたりのピアツーピアトランザクションを処理できますが、（ベースレイヤートランザクションの何%が、チャネル開設であるかによって）年間数千万の新しいチャネルを開設できるかどうかの上限があります。 

このタイプのネットワークは、特に初期の開発段階では、いくつかの制約がありますが、決済の観点においては、非常に理にかなっています。

ピアツーピアチャネルは、小規模な個々のトランザクションの場合、ブロードキャストネットワークよりも優れています。

それらは高速で安価で、比較的プライベートです。

さらに、ライトニングネットワークは、VisaやMastercardよりもはるかに少額のマイクロペイメントを実現でき、1円にも満たないわずかな金額を送金することができます。

例えば、機械間で自動化されるマシントゥマシン決済やマイクロペイメントのストリーミング、スパム防止技術としてのマイクロペイメントの使用など、クレジットカードでは不可能な新しいユースケースを開くことができるのです。

これらはすべてグローバルでパーミッションレスであり、ユーザーは、銀行やその他の中央組織の許可なしに、決済することができます。

ライトニングネットワークの使用を防止するためには、政府は、無料のオープンソースソフトウェアを使用することは違法であることを啓蒙し、実際にそれを強制的に規制する方法を考え出す必要があります。

####流動性の利点と制限

流動性は、個々のルーティングチャネルに依存するネットワークの最大の制限です。

参加者が数百人しかいない場合、任意の2つのノードを接続し、パス内の各チャネルに決済を通過させるのに十分な流動性があるルートを見つけるのは非常に困難です。

多くの試行された決済ルートは失敗することになります。

資金は失われませんが、トランザクションは開始できません。

ネットワークが制限され、ユーザーエクスペリエンスが低下します。

参加者が、数万人、数十万人、数百万人と次第に増えていき、チャネルの平均残高が大きくなると、ネットワーク上の任意のポイントから他の任意のポイントへの支払いのルーティングは、指数関数的に簡単になり、信頼性が高まります。

ネットワーク上のほとんどのポイント間には、非常に多くの可能なパスが存在しているのです。

ライトニングネットワークでは、送信する金額が大きくなるほど、その決済を処理するのに十分な流動性を持つ一連のチャネルパスを見つけることが難しくなります。

例えば、ネットワーク上の2つのポイント間で25ドル相当を送金するのは非常に簡単です。

なぜなら、あなたのソフトウェアは、それぞれが望む方向に少なくとも25ドル相当の流動性を持っている、相互接続された一連のノードを見つけるだけでよいからです。

ただし、2,500ドル相当の金額を多くのアドレスに送金するのは困難です。

2,500ドル相当の流動性を持つチャネルは少なく、代わりに複数のパスを介して並行して送金する必要があり、ノードとターゲットノードの間に多数の可能なパスが存在する必要があるためです。

さらに、ターゲットノード自体には、そのサイズの支払いを受け取るのに十分な流動性がない場合もあります。

チャネルが多く存在し、チャネルが大きいほど、より大きな支払いをルーティングする信頼性が高くなります。

このようにダイナミックなエコシステムの構築を必要とするライトニングネットワークは、今日作って明日からすぐに完璧に機能するものではなく、何年にもわたって、チャネルごとに丁寧な作業を行う必要がありました。

初期のユーザーは、ライトニングネットワークの未来に確信を持った開発者やアーリーアダプターであり、使いにくいネットワーク上で何年も開発を行った結果、安価で高速な決済手段を求める一般的なユーザーに最適なものになりました。

当初は、ユーザーの安全のためにチャネルサイズと支払いの金額を制限していました。

それは、ジャングルのまったく手付かずの小道をゆっくりとナタで切り開き、いつか文明のためにそこに道路を建設するようなものと考えてください。

さらに、ノードオペレーターが流動性を最適に管理しやすくするためのツールを、開発の仮定で構築する必要があり、現在は改善されましたが、まだ未完成ではあります。

多くの批評家は、ライトニングネットワークは機能しないだろうと述べ、実際に実装されてからも、最初の2年間は多くの人が失敗だと言いました。

しかし、批評家のほとんどはライトニングネットワークがどのように成長するかを理解していませんでした。

ライトニングネットワークは、何マイルも走る巨大な貨物列車のようなものであり、停止状態からスピードを上げるには、多くの労力が必要ですが、一旦動き出すと、その勢いを止めることはできません。

![<!--- 図 ライトニングネットワークの成長を表現した貨物列車の写真 --->](/_images/a_look_at_the_lightning_network3_6.webp <!--- img src=”a_look_at_the_lightning_network3_6.png” --->)
<figcaption>Pixabay</figcaption>

ライトニングネットワークがより使いやすくなるにつれて、その実装やアプリケーションを構築している企業は、関心のある投資家からより多くの資金を調達することができます。

例えば、ライトニングラボは、ライトニングネットワークインフラストラクチャの構築を継続することを目的に2022年にシリーズBラウンドで7,000万ドルを調達し、Zebedeeは、ライトニングマイクロペイメントを組み込むゲーム向けソリューションの構築を継続するために、3,500万ドル (大手ゲーム会社・スクウェアエニックスからの資金を含む) を調達しました。

ここ数年間で、ウォレット、アプリ、インフラストラクチャの構築を目的として、総額数億ドルの資金が調達されているのです。

今後は、多数のユーザーを抱えるエンティティがライトニングネットワークを活用したサービスに接続できるようになります。

ユーザー向けにライトニングネットワークを統合した事例

2019年：Bitfinex,River Financial
2021年：Bull Bitcoin,Okcoin
2022年：Cash App,Kraken

現在、何千万人もの人々が必要に応じて、技術的にはライトニングネットワークにアクセスできます。

多くのマーチャント用ソフトウェアも現在それを受け入れています。

2021年1月には、ネットワークの流動性と使いやすさが一般層に普及する直前まできていることに気付きました。

ライトニングネットワークが、実際に使えるようになり、支払いルーティングの信頼性は向上していたのです。

ネットワークの初期の容量は、ユーザーが自主的に作り出した流動性であり、効率的に割り当てられていませんでした。

しばらくの間、ネットワークは成長していないように見えましたが、実際にはその流動性はゆっくりと広がり、より使いやすく効率的になりました。

そして、流動性と決済の市場規模が拡大し、いくつかの本当に優れたモバイルアプリが市場に登場してきたのです。

![<!--- 図 2021年1月14日における筆者のツイートとライトニングネットワークの成長性--->](/_images/a_look_at_the_lightning_network3_7.webp <!--- img src=”a_look_at_the_lightning_network3_7.png” --->)

####実装とアプリケーション

ライトニングネットワークは、どの企業も管理をしていません。

これは参加者による参加者のためのオープンソースです。

ライトニングネットワークの基本的な基盤は、合意された最小限のプロトコルであり、ライトニングノードのソフトウェアメーカーは、プロトコルに準拠して、相互またはネットワーク全体を運用します。

このようなプロトコルの標準は、さまざまなアプリケーションが通信するための基本的な電子メール標準や基本的なインターネット標準のようなものです。

ライトニングノードソフトウェアは、ライトニング実装と呼ばれます。

Lightning Labs、BlockstreamおよびBlock Incは、さまざまな開発者が利用する世界でも有数のライトニング実装または実装ツールセットを開発/提供する企業です。

あなたが、ライトニング実装を実践したい場合は、使用する実装方法を選択したり、実装をカスタマイズしたり、独自の実装をゼロから構築したりすることもできます。

ライトニングネットワークはオープンなプロトコルであり、独自のライトニング実装を構築し、ネットワークとやり取りすることを阻止するゲートキーパーは存在しません。

今後は、多くの企業がこれらのライトニング実装を使いやすいアプリに組み込むことができます。

エンドユーザーは、ライトニング実装を直接使用するのではなく、ネットワークに接続できるモバイルアプリを使用します。

アプリ内部のライトニング実装の詳細を含め、ほとんどの技術的な詳細をエンドユーザーは知ることなく、ライトニングネットワークを自然と使用することができるのです。

一部のアプリは、会社にお金を預けるカストディができるものもあり、Cash AppとStrikeがその例です。

この場合、各国における一定の規制への準拠が必要となります。

他のアプリは自己管理型であるために自分のコインを完全に管理でき、オープンソースソフトウェアを使用して流動性の高いノードに接続しているだけであり、MuunとBreezがその例です。

####マーチャントの受け入れ

ネットワーク実装が開始された初期は、ライトニング決済を受け入れるマーチャントはほとんどありませんでした。

時間が経つにつれて、ライトニング決済はより簡易的に導入できるようになりました。

例えば、BTCPay ServerとOpenNodeによって、マーチャントは簡単にライトニング決済を受け入れることができるようになりました。

エルサルバドルがビットコインを法定通貨にしたとき、マクドナルドやスターバックスなどの大企業は、サードパーティのソフトウェアを使用して、ライトニング決済を迅速に統合することができたのです。

NCR CorporationなどPOSシステム会社は、ライトニングネットワークとの相互運用性に関心を示しています。

Squareは、中小企業向けの大規模なPOSソフトウェアおよび製品プロバイダーであり、その親会社であるBlock Incは、最もビットコインを支持する企業の1つです。

同社のCash Appは、すでにライトニングネットワークと統合されており、ビットコインに焦点を当てた複数の開発を進めています。

今後数年間で、ライトニングネットワークは決済手段として一般的に普及すると思います。

販売後すぐにドルに交換する (これは、多くの POSソフトウェア プロバイダーによって簡単に実装可能です)マーチャントもあれば、ネットワーク経由で直接ビットコインを受け入れて保有することを選択するマーチャントもいることでしょう。

####Taroプロトコルによるライトニングネットワーク上での資産の流動化

数年前から、ドルやその他の通貨をライトニングネットワークを使用して、送金することへの関心が高まっています。

これは、ビットコインが、ライトニングネットワーク上でほとんどの主要通貨で取引される流動性の非常に高い資産という考え方です。

例えば、ドルをビットコインに交換し、ライトニングネットワークを介してどこかの国のカストディアンにビットコインを送信し、ドルに戻すことがすべて数秒以内にできます。

このことで、価格の不安定さといったビットコインの資産としての欠点は排除され、ライトニングネットワーク上における決済の利点を有効的に活用することができるのです。

これは、他の通貨でも可能です。

ポンドをビットコインに交換し、そのビットコインをライトニングネットワーク経由で送金し、そのビットコインを数秒でユーロに交換できます。

これは、グローバルな支払いを非常に安価で迅速に送金する方法であり、StrikeやBottlepayは国際決済の効率化を目的にライトニングネットワークを利用しています。

このライトニングネットワーク上での「法定通貨-ビットコイン-法定通貨」の送金方法は、エンドユーザーのライトニング決済に関連する税金の問題を解消できる一方で、VisaやMastercardなどのほとんどの決済ネットワークよりも費用対効果が高いという利点を利用することもできます。

2022年8月、欧州中央銀行は、クロスボーダー決済のいくつかの潜在的な方法の中でビットコイン/ライトニングネットワークスを詳細に分析、調査した報告書を発表しました。

2021年11月に行われた、ビットコインのソフトフォークアップグレード「Taproot」によって、ビットコインネットワーク、特にライトニングネットワークは、理論的には「Taroプロトコル」を使用して様々な資産を送信するために使用できるようになりました。

Taroプロトコルは、2022年4月にLightning Labsによって発表され、現在は、最終的な実装に向けたテスト段階にあります。

例えば、Taroが一般に使用できるようになった場合、米ドル担保付きのステーブルコインを発行でき、ライトニングネットワークを介してほとんど即時かつ無料で送ることができるのです。

つまり、これは、ユーザーは、ボラティリティが低く、課税されない資産で、ほとんど即時かつ無料で支払いを行うことができることを意味します。

「アリスとボブが100ドルのキャパシティを持つライトニング-米ドル (L-USD) チャネルを持ち、2人は50ドル相当のインバウンド流動性（各チャネルが別のライトニングノードから受け取れるsatの数量のこと）を持つようにバランスを取っていると想像してください。」

「次に、キャロルとデイブが100ドルのL-USDチャネルを持ち、彼らは2人とも50ドル相当のインバウンド流動性を持っています。」

![<!--- 図 L-USDとBTCを使用したアリスからデビットまでの10ドル分の送金L-USD--->](/_images/a_look_at_the_lightning_network3_8.webp <!--- img src=”a_look_at_the_lightning_network3_8.png” --->)

「ボブがキャロルとのBTCチャネルしか持っていない場合でも、アリスはボブにL-USDの10 ドルを送金でき、ボブはBTCで少額のルーティング手数料を請求し、キャロルに10ドルのBTCを送金します。」

「キャロルはL-USDで少額のルーティング手数料を請求し、10ドルのL-USDを最終的な送金先のデイブに送金します。」

「Taroは、すでに実用化されているライトニングネットワークとそのまま相互運用が可能で、最初のユーザーと最後から2番目のユーザーが、L-USDの流動性を持っていることが条件となります。」

「この構造によって、今日のライトニングネットワークのネットワーク効果と流動性を利用して、様々な資産をルーティングすることができ、新しい資産のために新しいネットワークを立ち上げる必要はなくなり、ネットワーク上のすべてのトランザクションをビットコインが確実にサポートしてくれます。」

「また、ライトニングネットワークにおけるビットコインの流動性の成長を促進し、より多くのマルチアセットが、ライトニングネットワークに対応するインセンティブにもなります。」

- Taro発表時の説明 (Lightning Labs)

重要なことは、ネットワークのコアは引き続きビットコインチャネルの流動性に焦点を当てているのに対し、Taroを活用して発行された特定の資産は一般的にネットワークの周辺にあるということです。

これによって、最終的には、ネットワークのコアを通るほとんどのパスにおいて、ビットコインチャネルを介して資産が流動するために、ライトニングネットワーク全体の流動性が損なわれるのを回避できます。

さまざまな POSテクノロジプロバイダーも最終的にはこれを統合できるようになるため、ビットコインに加えて、ライトニングネットワークを介した支払いにステーブルコインを使用できます。

BitfinexのPaolo Ardoino氏は 、ブロードキャストネットワークに超高速決済を組み込むことの技術的な限界とライトニングネットワーク上のステーブルコインが、技術的限界を理想的に劇的に改善する理由について、Youtubeにおいてわかりやすい解説をしています。

ユーザーは、1つのアプリでビットコインとステーブルコインの保有に対応したカストディアルまたはセルフカストディアルのモバイルウォレットを持つことができ、、必要に応じて好きなように支払いに使用できます。

さまざまなマルチシグネチャーの実装、タイムロック、その他のプログラム可能な機能によって、お金を移動したり、さまざまな目的でネットワークを使用するための斬新な方法がたくさんあります。

####その他の潜在的なユースケース

2021年、Imperviousという会社が、ライトニングネットワーク上で動作するアプリケーションを作成するAPIを公開しました。

基本的にライトニングネットワークは価値を即時に安く送金するだけでなく、非金銭的な情報を送信するために使用できます。

ソーシャルメディアメッセージ、ビデオ通話、ファイル共有、本人確認、コンテンツの収益化、ソーシャルネットワーク、その他のアプリケーションにおいて、潜在的なユースケースがあります。

2022年、Imperviousは、これらのユースケースに応じたアプリケーションを1つにまとめるためのブラウザの開発に取り組んでいます。

ライトニングネットワークは、スパム対策にも使用できます。

プルーフオブワークマネーは、スパム対策技術として1990年代にアダムバックによってHashcashとして開発されました。

現在、一部のアナリストは、ライトニングがオンラインスパムを削減する効果的な方法である可能性があると指摘しています。

最近ではコメントするのに1sat (0.00000001 ビットコイン) が必要で、ユーザー同士がsatでチップを渡し合うソーシャルネットワークやWebサイトが登場しています。

これは、各アカウントと投稿にマイクロプライスが設定されているため、スパムボットを防止することができます。

ブラウザプラグインを使用するとネットワークが大きくなった場合においても、多くのWebサイトでこのような機能を実装できます。

同様に、StrikeのCEOであるJack Mallersは、彼にメールを送信したい人のためにマイクロコストを実装しました。

ビットコイン、ライトニング、Taroなど複数の技術があるため、ライトニングネットワークが今から10年後にどのように使用されるかを予測することはとても難しいです。

成功するものもあれば、失敗するものもあるでしょう。

ライトニングネットワークは、即時に無許可で、ほぼ無料で移動するお金と情報のためのプログラム可能な構成要素のセットです。

特定の企業によって管理されているのではなく、オープンソースであり、多くの企業がネットワーク上に構築することができます。

このオープン性は、ネットワークの最適な使用方法や一連のオープンプロトコルに同意する方法について、競合する異なるビジョン同士の摩擦を生むことがありますが、多くのパワーと柔軟性も提供します。

2007年にiPhoneが登場した時、「これが10年後にタクシー業界を混乱させる可能性がある」と考える人はほとんどいませんでした。

日常的に人々が、大きなタッチスクリーンと高帯域幅のモバイルインターネット接続を備えたポケットスーパーコンピューターを利用できるようになったことで、いくつかの技術は統合されました。

そして、Uber が登場し、都市間の移動方法に変化をもたらしたことなど、iPhoneは、多くの産業分野において指数関数的に普及し、シェアを奪っていきました。

あらゆる種類のハードウェアの電子機器は、スマートフォンのアプリケーションになったため、ほとんどが時代遅れになり、使われなくなりました。

私は、ビットコイン/ライトニングスタックも同じように日常的に普及し、あらゆる産業を変化させると考えています。

ネットワークはまだ小さく、まだ多くの開発作業が必要であり、確実なことは何もありません。

しかし、私には、今後10年間で大きな可能性を秘めた強力な決済ネットワークのように見えます。

####ライトニングネットワークへの批評

ライトニングは、主に他のブロックチェーンの支持者から多くの批判に直面しています。

彼らの多くにとって、ライトニングネットワークの成功は、自分達のプロジェクトの価値を毀損し、代替してしまう可能性があるからです。

ライトニングネットワークにはまだ多くの開発作業が必要であるため、いくつかの批判は妥当であり、ネットワークには限界があることは事実です。

開発者の数はかなり少なく、ネットワークは運用面で5年目に入ったばかりで、高い流動性が実際に一般に広まるレベルに達したのは過去2年間だけです。

しかし、この分野を何年にもわたって研究してきた結果、ライトニングは非常に有望であり、一般的には過小評価されていると私は考えています。

本物の可能性を目にするには、数年先を見据えた取り組みが必要になります。

そこで、私が確認したライトニングネットワークに対するいくつかの一般的な批判に対して、私の回答を以下に示します。

批判1) 規模が小さ過ぎる

ライトニングネットワークは急速に成長していますが、パブリックチャネルにあるビットコイン数は、まだ5,000枚未満です。

日々のビットコインの価格にもよりますが、せいぜい数億ドルにすぎません。

決済スピードが速いため、規模の小ささに比べて非常に多くの取引が行われていますが、最終的には、グローバルな決済業界と比較すると微々たるものです。

Arcane Researchは、2022年4月にライトニングネットワークの現在の規模に関する優れた分析を発表しました。

![<!--- 図 Figure S1- ライトニングネットワーク上の決済ボリュームと件数 --->](/_images/a_look_at_the_lightning_network3_9.webp <!--- img src=”a_look_at_the_lightning_network3_9.png” --->)

![<!--- 図 Figure S2- 取引サービスにおける入出金を除いたライトニングネットワーク上の決済 --->](/_images/a_look_at_the_lightning_network3_10.webp <!--- img src=”a_look_at_the_lightning_network3_10.png” --->)
<figcaption>Arcane Research、The State of Lightning Volume 2</figcaption>

批判派は、この規模の小ささをさまざまなDeFi アプリケーションとよく比較します。

例えば、イーサリアム上のラップドビットコインは、230,000ビットコイン以上がカストディされています。

そのため、ライトニングネットワークは比較するに及ばないほど、非常に小さく取るに足らないものにさえ見えます。

しかし、その比較はそもそも比較する対象自体が、間違っています。

ビットコインやその他の暗号資産を交換手段とする暗号資産決済市場全体は、まだ非常に小さいのです。

前述のように、特にすべての取引が課税対象であり、人々がすでに確立された従来の決済システムにアクセスできる先進国市場では、交換の媒体としてのビットコインの広範な使用は、通貨化プロセスの後半まで期待されるべきではありません。

一方、DeFiは主に取引とレバレッジに使用されます。

これらの様々なブロックチェーンとDeFiプロトコルの多くは、コインを発行し、マーケティングによって価格と露出度を上げ、個人投資家の迅速な出口流動性を獲得するといったベンチャーキャピタル主導の強いインセンティブがあります。

Chainalysisは、DeFiが主に機関投資家規模のトレーダーによって使用されていることを調査し、確認しています。

![<!--- 図 DeFi市場における投資家ごとの取引量の比較--->](/_images/a_look_at_the_lightning_network3_11.webp <!--- img src=”a_look_at_the_lightning_network3_11.png” --->)
<figcaption>チェイナリシス</figcaption>

 （中央集権的に管理されている）ラップドビットコイン数は、中央集権的な取引所のビットコイン数と比較することが適切なのです。

例えば、イーサリアムのDeFiには、KrakenやGeminiよりも多くのラップドビットコインがありますが、Coinbase、Binance、Bitfinexよりも少ないです。

これはより適切な比較であり、ラップドビットコイン基準に見た時に、イーサリアムは基本的に4番目に大きなビットコイン取引所およびレバレッジサービスであり、取引とレバレッジの合計は現時点において、マーチャントによるライトニングネットワークの決済市場よりもはるかに大きなビットコイン市場です。

一方、ライトニングには独自に発行するコインはありません。

ライトニングからすぐに大金持ちになる人もいません。

ライトニングの使用を促進する、巨大なマーケティングインセンティブもありません。

率直に言って、暗号資産投資家にとっては、投機的価値のないただただ退屈な決済ネットワークと言えるでしょう。

投機性はほとんどなく、実用性に特化しているのが特徴なのです。

私は個人的にはかなりエキサイティングだと考えていますが、それはライトニングネットワークが提供するユーティリティとそれが機能するエレガントな仕組みによるものです。

さらに、ライトニングネットワークの開発者は、初期の段階で支払いとチャネルのサイズを意図的に制限し、潜在的なバグや悪用によって人々が多額の資金を失う可能性を低減しました。

開発者の目標は、多くのコストをかけて急成長させることではなく、当初から長期的に責任を持って構築することだったのです。

ライトニングネットワークの成長は、弱気市場を乗り越え、主に有機的な有用性とその必要性によるものであり、ベンチャーキャピタルの資金によるインセンティブスキームではありません。

投機、取引、レバレッジ、または出口流動性としての個人投資家を使用することに依存し、あらゆる種類のパンプアンドダンプを目的とはしていないのです。

Taro (ライトニングネットワーク上の米ドルペッグのステーブルコイン) のように、ネットワークの成長を加速させるプロジェクトが出てくるかもしれませんが、いずれにせよ、ライトニングネットワークは、ビットコインネットワークを使用して、取引したい人々のためにあるのです。

批判2) 中央集権的すぎる

特に大量のルーティングノード運用を行う場合、ライトニングネットワークをより高度なレベルで使用するのは難しいです

ノードを常に運用しておく必要があり、多くの資金がロックされ、流動性のバランスを取るのが難しいためです。

多くの資金を持ち、流動的なチャネルの構築と維持に多くの時間を費やさならなかったため、ライトニングネットワークの開発者は、ネットワークのトラフィックハブとして機能する多くのスーパーノードを自然と開発していました。

これをハブアンドスポークモデルと呼ぶ人もいますが、スーパーノードを中央集権的と定義することは、文脈的にも正しくはありません。

表面的に中央集権的に見えてしまうことで、スーパーノードは、ライトニングに対する批判としてよく用いられますが、その批判は的外れです。

1つの仮定として、お住まいの地域に光ファイバーインターネットサービスプロバイダーが1〜2社しかなく、インターネットにアクセスできる方法が、この2社しかないとします。

これは中央集権化の大きな問題であり、インターネットを使用できるかどうかは、完全にその1〜2社の気まぐれに委ねられており、引っ越す以外に、解決する術はありません。

あなたは、地域にサービスを提供する1〜2社のプロバイダーにインターネットの使用を独占的または複占的に制限されているのです。

代わりに、数百または数千の異なる衛星ベースのインターネットプロバイダーを使用することを選択できると仮定します。

この思考実験では、軌道を周回する衛星を経由し、世界中のどこにいてもグローバルインターネットに接続できます。

これにより、あらゆる種類の中央集権化の問題が解消され、あなたは、世界中のプロバイダーを選ぶことができ、その数はほぼ無数にあります。

あなたの場所にリンクされた特定のプロバイダーに限定されず、世界中から選択でき、冗長性を高めるために複数のプロバイダーを同時に選択することもできます。

ライトニングネットワークには、ルーティングに流動性を確保するために接続できるあらゆる種類のスーパーノードがあり、それらはさまざまな管轄区域に拠点があり、非公開で運用できます。

すべてが、ソフトウェアであるため大規模なスケーリングも可能です。

さらに、スーパーノードに直接接続したくない場合は、他の小さなノード（国際的なノードも含む）に直接ピアツーピアで接続することができ、その小さなノード自体が、他の任意の数のピアノードまたはスーパーノードに接続することも可能です。

6,000人以上のメンバーを持つPlebnet などのオンライングループがあり、相互にチャネルを構築し、相互にサポートすることに重点を置いています。

これが、システム全体において頻繁に接続されるスーパーノードが多く存在している場合でも、実際にはハブアンドスポークモデルではない点なのです。

ライトニングネットワークのエンティティは、マネーサプライの不変性や他のコンセンサスルールを強制せず、個々の支払いをルーティングしているに過ぎないことが、重要なのです。

もし、特定のスーパーノードがプライバシーや取引の検閲に関して問題があるとされた場合、ユーザーはその周辺にチャネルを構築できます。

その選択性が分散化の鍵であり、ライトニングネットワークは、ノードとチャネルが進化を遂げ、さまざまな参加者の必要に応じて古いチャネルが削除され、新しいチャネルが構築されます。

流動性がどこに向かうかは、市場の力によって決定されるのです。

2005年のインターネットは、次のような状況でした。

![<!--- 図 2005年のインターネットネットワーク--->](/_images/a_look_at_the_lightning_network3_12.webp <!--- img src=”a_look_at_the_lightning_network3_12.png” --->)
<figcaption>Opteプロジェクト ウィキペディアより</figcaption>

先ほど紹介したライトニングネットワークの一部を拡大したスナップショットは、その構造がインターネットにいかに似ているかを示していますが、ライトニングネットワークはより分散化されています。

なぜなら、個々のノードが、他の多くのノードに直接接続でき、必要に応じて、スーパーノードを介して支払いをルーティングすることができるからです。

![<!--- 図 ライトニングネットワークの一部を拡大したスナップショット --->](/_images/a_look_at_the_lightning_network3_13.webp <!--- img src=”a_look_at_the_lightning_network3_13.png” --->)

批判3) 簡単に複製できる

ライトニングはビットコインに固有のものである必要はありません。

ビットコインネットワークが他のブロックチェーンで開発された潜在的に有用な技術を組み込むことができるのと同様に、他のブロックチェーンもライトニングのような技術をスタックに組み込むことができる可能性があります。

実際、いくつかのライトニングのようなネットワークは他のブロックチェーンにも存在しますが、ビットコインネットワークに存在するものと比較すると小さいものです。

これは、前述のように、ライトニングが流動性に依存しているためです。

流動性 (十分な資金を備えた多数のチャネルの形) は、円滑に機能するための重要な制限の1つです。

ネットワークがビットコインネットワークで最初に開始されたとき、それはあまり使いやすいものではありませんでした。

ノードとチャネルが非常に少なく、支払いを送信するための支払いルートを見つけることも、他の人があなたに支払いを送ることができるようにインバウンドの流動性を確保することも困難でした。

多くの支払いが失敗し、再試行する必要があったことは、基本的にはアルファ版の開発途中の1つの検証作業であったのです。

しかし、何年にもわたって徐々に多くのチャネルを構築し、支払いの送受信の信頼性を高めてきました。

流動性は主要なネットワーク効果の変数であり、特定の証券取引所および商品取引所が、数十年または数世紀にわたって主要な証券取引所および商品取引所であり続ける理由です。

人々は流動性があるところに行き、それがより多くの流動性を生み出し、それがより多くの人々を呼び、そのことが、より多くの流動性を生み出します。

ライトニングネットワークには、複製が非常に難しい自己強化型のネットワーク効果があり、月ごとに成長しています。

これが、ライトニングネットワークが巨大な貨物列車に似ていると考える理由です。

スタートしてから加速させるのは難しいです。

しかし、ひとたび動き出すとその勢いはとてつもなく猛烈なのです。

ライトニングネットワークは、何年にもわたるチャネル構築と慎重な開発を経て、一般的に普及が可能なレベルの流動性と真の使いやすさに到達しましたが、それは、主に暗号資産の流動性、規模、および分散化の最大の組み合わせを持つビットコイン上に構築されたためなのです。 

ライトニングのネットワーク効果は、ビットコインのネットワーク効果の上に構築されたものであり、双方が相互に強化し合っているのです。

批判4) 十分にプライベートではない

一般的に、ライトニングネットワークは、特に送金者に対してビットコインベースレイヤーよりも優れたプライバシーを提供しますが、完全にプライベートなネットワークではありません。

前述のように、ネットワークはオニオンルーティングを利用するため、支払いパス上の各ノードは、支払いが開始した地点と最終的な受取地点がどこにあるかについて、各ノード自体に適用される方向のみを認識します。

ライトニングネットワークは、方向性が一連に連なったものですが、各参加者は全方向の小さなサブセットしか持っていません。

たとえば、この図をもう一度使用すると、ノード C、F、K、およびLを介してAからQに送金している場合、これらのノードは、Qが最終的な受取先であり、Aが最初の送金者であることを必ずしも認識していません。 

たとえば、ノードKは、Fから支払いを受け取り、Lに支払いを送信するように指示され、それと引き換えにわずかな手数料を受け取っているだけなのです。

![<!--- 図 ユーザーAからユーザーQへのルーティング --->](/_images/a_look_at_the_lightning_network3_14.webp <!--- img src=”a_look_at_the_lightning_network3_14.png” --->)
<figcaption>キーリッシュ、ウィキペディアより</figcaption>

トランザクションを監視しようとしているエンティティは、ネットワーク全体に複数のライトニングノードを設定し、支払いルーターとして機能させることができます。

通常、個々のノードは送金元や送金先を認識することはなく、それぞれどのノードから始まってどのノードに送られたのかのみを認識しています。

ただし、エンティティがネットワーク全体に十分な数のノードを持っている場合、特定の支払いがどこから来てどこへ行くのかを把握することができるかもしれません。

したがって、送金者は通常、実際には十分なプライバシーを持っていますが、すべての支払いが完全にプライバシーを保証するわけではありません。

知識のあるユーザーは、ビットコインネットワークのベースレイヤーとライトニングネットワークの両方で、プライバシーを最大化するための重要な方法を持っていますが、これらにはいくつかのノウハウが必要です。

ライトニングネットワークの初期段階における現在、ユーザーのプライバシーオプションを拡張し、プライバシーをより自然なものにするための開発が、引き続き行われています。

人権財団は、 さまざまなプライバシー開発に資金を提供するビットコイン開発基金を設立しています。

批判5) 他の決済ソリューションがある

米国、ヨーロッパ、または日本に住んでいるほとんどの人は、日常的に支払いを行ったり、銀行口座を取得したりすることに問題はありません。

彼らは、なぜライトニングネットワークが決済に関連しているのか疑問に思うかもしれません。

しかし、主に発展途上国を中心に世界の多く人々は、銀行口座を持っておらず、ライトニングネットワークを利用する無料のオープンソースソフトウェアアプリは、彼らに決済機能を提供できるのです。

発展途上国の大部分は、持続的な2桁のインフレに苦しんでおり、発展途上国のほとんどの人々は生涯で大幅な通貨の切り下げ/リセットを経験しており、貯蓄することがほぼ無意味な状況です。

さらに、世界の約半分は、権威主義的または半権威主義的な国に住んでいます。

彼らは、抗議や発言の自由といった人間として基本的なことを行っただけで、恣意的な銀行口座の凍結に直面しています。

ビットコイン/ライトニングスタックは、彼らにとって全く正反対のテクノロジーなのです。

比較的自由な国でさえ、個人、企業、業界は、違法なことをしていなくても、一般的な決済ネットワークのプラットフォームから除外される可能性があるのです。

したがって、ビットコイン/ライトニングスタックはバックアップオプションであり、すべての人に開かれています。

ライトニングネットワークや同様のソリューションの潜在的な対応可能な市場を想像するとき、私たちは自分たちの快適な生活だけでなく、グローバルに考える必要があります。

高インフレ、腐敗した銀行システム、脱プラットフォーム、その他のお金に関する問題に苦しむ人々は、中央集権的な第三者が、価値を下げたり凍結したりすることができないピアツーピアのお金の必然的かつ将来的なユーザーです。

彼らは、先進国のどの人よりもビットコイン/ライトニングネットワークに参加する可能性が高いと言えます。

もちろん、一部の悪意のある人物がライトニングネットワークを利用することもできますが、それは悪意のある人物がインターネットを利用できると言っているようなものです。

ライトニングネットワークは、オープンなプロトコルであるので、もちろん悪用することもできます。

どんな強力な技術であっても、善人、悪人を問わず、利用される可能性があります。

ただし、正当な目的のために発展途上国における通貨の改善を必要とする人の数は、犯罪者になる可能性のある人よりも桁違いに多いです。

Chainalysisの暗号通貨の採用で上位20か国のうち19か国が発展途上国であることは驚くべきことではありません。

これらの国の多くでは、銀行口座よりもスマートフォンの普及率がはるかに高くなっています。

![<!--- 図 暗号資産の採用率が高い国 TOP20 --->](/_images/a_look_at_the_lightning_network3_15.webp <!--- img src=”a_look_at_the_lightning_network3_15.png” --->)
<figcaption>チェイナリシス</figcaption>

先進国でも、ライトニングは決済をより安くし、現在の法定通貨の支払い方法よりも、よりシームレスにマイクロペイメントやマシントゥマシンの支払いを可能にします。

批判6) セルフカストディアルユーザー向けのスケーリングに限界がある

ライトニングは、ビットコインネットワークで可能なトランザクション量を大幅に増加させます。

ただし、ライトニングチャネルの開閉には依然としてオンチェーントランザクションが必要であり、現在の形式では、ビットコイン/ライトニングスタックは、自己管理的にウォレットを使用する何十億もの人々に対応する規模まで、スケーリングすることはできません。

具体的には、特定のベースレイヤーのフォークが、より多くのスループットを許可しない限り、定期的に完全に自己管理的に使用できる人数にはブロックスペースの限界があります。

どんなネットワークにも、避けられない技術的なトレードオフがあるのです。

ベースレイヤーの幅広い監査可能性と不変性を確保するために、克服するのが難しいいくつかの制約があります。

私は、他の多くのブロックチェーン設計者がシステムをオーバーエンジニアリングしようとしていると考えています。

どのソリューションも、プロダクトマーケットフィットが必要です。

誰もが完全な自己管理を望んでいるわけではありません。

ある種のカストディサービスを利用する利便性を求める人もいます。

ビットコイン/ライトニングは、世界中の人々に選択の自由を与えますが、人々は自分が望むスタックのどの部分を使用するのが最適かを考えることができます。

それを数値化すると、ビットコイン/ライトニングスタックは、何千万人もの人々が自己管理して半定期的に使用できます (または、彼らの多くがコールドストレージに保管しているだけの場合は、時間の経過とともにそれ以上になります)。

カストディサービスは、それをより高い数値にスケーリングすることができます。

例えば、Cash Appの数千万のアカウントはすべて、技術的にはCash Appが運営するノードとチャネルを介してライトニングネットワークにアクセスできます。

Strike、River、および同様の種類のアプリを使用しているユーザーにも同じことが当てはまります。

現時点では、ビットコインネットワークは手数料が低いため、ブロック報酬が縮小するにつれて長期的な検閲抵抗が低いと、一部の反対者から批判されています。

 （現時点でブロックスペースに対する圧倒的な需要がなく、その状態がいつまでも続くとすると、最終的にはマイニングシェアの半分を制御するためのコストが低くなる可能性があることを意味します。）

同時に、世界中のすべての人に自己管理的にスケーリングできないことで批判され、これらはほとんど相互に排他的な問題です。

（ブロックスペースは、圧倒的な潜在的需要を満たすのに十分な大きさではないことを意味します）

ビットコイン/ライトニングスタックの組み合わせが最終的に、完全に自己管理的に取引したい人の数に対して、十分に対応できるようになった場合 (良いことです)、この記事の技術的な範囲を超えていますが、より多くのユーザーが特定のチャネルを共有できるようにする方法を介して、スケーリングの可能性を潜在的に高めることができるいくつかの開発領域がまだあります。 

一方、ネットワークがそれほど大きくならず、ブロックスペースの価値が上がらない場合 (悪いこと)、スケーリングの限界は問題になりません。

現時点では、ビットコイン/ライトニングスタックは、現在、ネットワークを使用している人数と比較して、より大きなスケーリングの可能性を提供します。

ネットワークは、まだ存在しない市場環境に合わせて過剰に構築する必要はありませんが、もちろん、開発者が長期的なスケーリングオプションについて考えるのは良いことです。

ことわざにあるように「必要は発明の母」であり、ネットワークが継続的に高いベースレイヤーの手数料に遭遇した場合、ライトニングチャネルを開くために大量のベースレイヤートランザクションが使用された場合、希望するすべてのユーザーをオンボーディングできない場合において、自己管理的にネットワークに参加することができれば、新しい幅広いコンセンサスのソフトフォークやその他の変更の可能性を含む、さらなるスケーリングソリューションの開発への関心が高まるでしょう。

####おわりに

何千年もの間、ビジネスとお金は、徒歩、馬、船と同じ速度で動いていました。

取引を行う人々の能力と、彼らが取引する無記名資産 (主に金と銀などの貴金属) には、速度の点で本質的な違いはありませんでした。

1800年代に電信が発明され、その後電話と海底ケーブルが発明されたことで、ビジネスの速度は光速に近い速度に達しました。

人々は、通信システムを介して互いの預金通帳を更新することにより、大陸を越えて取引できるようになったのです。

しかし、無記名資産としての貴金属は依然として動きが遅いため、抽象化する必要性が次第に出始めました。

その以前においても、金と銀は、可分性の制限のために債券として抽象化されることもありましたが、電気通信技術が発明されると、その取引スピードの遅さを理由に、抽象化の必要性がさらに高まりました。

最終的に、政府は貴金属による裏付けを銀行台帳や債券から完全に削除しました。

基本的に、法定通貨と無記名資産の取引速度の差は、政府にカストディアル裁定取引の大きな機会を与えることとなったのです。

しかし、ビットコインネットワークを利用するライトニングネットワークの発明は、ビジネス上の取引と同じように、無記名資産を電気通信の速度で移動させる方法を再構築しました。

人々は、請求書や借用書に頼る代わりに、資金をすぐに受取人の管理下に置く分散型のコードが強制するルールに準拠することで、ピアツーピアで流動的な価値をグローバルに保存し、送金するオプションを利用できるようになりました。

ビットコイン/ライトニングスタックは分散型台帳であり、その上にピアツーピアの支払いチャネルが織り込まれています。

ビットコインは、プルーフオブワークコンセンサスを介して現実世界に接続された、分散型クラウド内のプログラム可能なお金です。

これがどこにつながるのかを正確に言うのは難しいです。

流動性の高い価値のピアツーピアのグローバル転送は、現在においてはパンドラの箱が開かれているようなものなのです。

特定の政府は、そのパンドラの箱を公開することを望まず、さまざまな法律を制定していますが、実際には無料のオープンソースソフトウェアが存在しているだけなのです。

政府が何百万人もの個人に支払いのルールを強制することは、高度に規制された数千の銀行機関に適用するよりもはるかに困難です。

人々が、地域の内外で取引するために銀行を経由する必要がなければ、新しい可能性が開かれます。

現在、デジタル通貨を巡り、政府と民間の開発者間で競争が繰り広げられています。

片方では、ビットコイン/ライトニングスタックのように、無国籍な通貨資産と安価で即時性のある支払いチャネルが先頭に立ち、競争しています。。

オープンソースであるため、世界中の開発者が好きなようにさまざまな開発に取り組むことができます。

ビットコインは、2,100万枚といった資産としての有限性と相まって、レバレッジや大口投資家、様々な理由に基づいて価格が大きく変動するにも関わらず、個人、スタートアップ、一部の大企業でさえ、開発に貢献するなど、実質的な採用と開発につながっています。

一方、各国の政府は中央銀行発行デジタル通貨（CBDC）に向けて取り組んでいます。

中国のように市場に先行して研究開発に取り組んでいた国々においては、すでに社会実装が進んでいる一方で、ほとんどの国の政府は遅れをとっており、デジタル通貨の構築について研究段階に止まっている状況です。

政府はオープンソースの民間部門よりも動きが遅く、魅力的な一連のインセンティブ (インフレシステムの維持、システムによる通貨発行の維持、システムのユーザーに対する監視と管理機能の強化など) を持っていませんが、オープンソースの民間企業との競争に対する課税と規制の権限を持っています。

しかし、この課税と規制の権限は、法の支配、人々の自由意志、イノベーションに焦点を当てた自国のビジネスがグローバルな市場で展開されることではなく、その国の管轄にとどまることを促進させたいといった思惑によって、制限を課すものなのです。

結局のところ、ブロックチェーンは情報です。

ユーザーは、オープンソースの分散公開台帳を自分たちで更新しているだけで、12語のシードフレーズを覚えるだけで良いのです。

オープンソースのブロックチェーンソフトウェアの個人使用を完全に禁止することは、基本的には言論と情報の1つの形態を禁止することになります。

これは、独裁政権ではある程度可能ですが（地下での使用は続いていますが）、財産権と言論と表現の自由がある民主国家で行うのはより困難です。

ブロックチェーンのようなオープンで分散化された技術の使用をほぼ完全に抑止し、その抑止力を永続的に維持したい場合、政府はかなり独裁的にならなければなりません。

その代わりとして、政策立案者が業界をコントロールできる主な方法は、法定通貨から暗号資産への交換の管理、課税、規制によるものです。

デジタル資産取引所と銀行の接続を停止したり、ウォレットアドレスを追跡するためのブロックチェーン監視と大規模なデジタル資産取引所の内外における厳格なKYC・AMLコンプライアンスチェックを組み合わせて、暗号資産の使用を規制することができます。

デジタル資産のカストディアンとしての機能やユーザーがカストディアンからコインを引き出すことを厳格化することも可能です。

これを回避する方法はありますが、これらはすべて大規模な資本がプールされたデジタル資産取引所における摩擦と制御点です。

インフレが加速しているトルコや独裁主義国家のロシアのような問題のある地域では、マーチャントがビットコインやその他のデジタル資産を商品やサービスの決済手段として受け入れることは、違法であり、代わりに法定通貨を使用することを人々に強制する傾向があります。

しかし、自国民を世界から切り離すリスクを負ってまで、そのようなルールを強制して、情報とオープンソースソフトウェアを制御し、自国の管轄内でイノベーションが起こるのを阻止しているといった側面も存在します。

通貨制度そのものが破綻している多くの国では、現金で米ドルを所有して使用することは違法です。

それでも、現金の米ドルはマーチャントの多くが、受け入れています。

高インフレや取引の検閲のために、人々が現地の基軸通貨の使用に問題を抱えている場合、現金のドルの禁止を強制することは非常に困難です。

同様に、オープンソースソフトウェアやピアツーピアのデジタルトランザクションを永久に禁止することもかなり困難です。

強制しなくてはならないポイントは膨大であり、開発者はより簡単かつプライベートに使用できるように調整し続けています。

私は引き続き、お金のデジタル化を2020年代以降の10年間の重要なテーマとして、ボトムアップの方法（ビットコインなど）とトップダウンの方法（中央銀行発行デジタル通貨など）の両方で調査しており、どちらの方向性にも興味があります。

特にビットコイン/ライトニングスタックは、高レベルの分散化とともに、ユーザーの採用と開発の継続的な兆候があり、決済ネットワークとして引き続き非常に有望であると私は考えています。

リスクがないわけではありませんが、注目すべきであることは確かです。

####謝辞

非常に多くの調査に関する質問に答えてくれたLightning LabsのElizabeth Stark氏に特に感謝します。

彼女なしではこの作品は成り立ちませんでした。

そして、オスロで会ったときにMuunとUXとスケーリングに関する質問に答えてくれたMuunのDario Sneidermanis氏、流動性に関する質問に答えてくれたRiver FinancialのAlexander Leishman氏、ライトニングネットワークに関する優れた研究を発表してくれたBreezのRoy Sheinfeld氏、自身のポッドキャストで多数のライトニングネットワークの専門家にインタビューしてくれたKevin Rooke氏にも感謝します。

FediのObi Nwosuには、フェデレーテッドチャウミアンミントの概念について教わり、流動性に関するソーシャルメディアへの投稿をしてくれたLightning LabsのAlex Bosworth氏、The state of the networkに関する詳細なレポートを作成してくれたArcane Researchのチーム、そして、もちろんネットワークを構築し、学ぶための記事やドキュメントを提供してくれたエコシステム内のすべての開発者と投資家に感謝します。
